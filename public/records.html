<!DOCTYPE html>
<html>
<head>
<title>Records</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="table-container">

<h2>Trace Records</h2>

<table>

<thead>
<tr>
<th>ID</th>
<th>Badge</th>
<th>Suspect</th>
<th>Phone</th>
<th>Timestamp</th>
</tr>
</thead>

<tbody id="tbody"></tbody>

</table>

<div class="bottom-buttons">
<button onclick="window.location.href='index.html'">
Send Another Trace
</button>
</div>

</div>

<script>

async function load() {

    const res = await fetch("/get-traces");

    const data = await res.json();

    const tbody = document.getElementById("tbody");

    tbody.innerHTML = "";

    data.forEach(row => {

        tbody.innerHTML += `
        <tr>
            <td>${row.id}</td>
            <td>${row.badge_number}</td>
            <td>${row.suspect_name}</td>
            <td>${row.phone_number}</td>
            <td>${row.created_at}</td>
        </tr>`;
    });
}

load();

</script>

</body>
</html>